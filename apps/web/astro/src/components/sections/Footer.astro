---
import { brand } from '../../config/brand'
---

<footer class="border-t border-white/10 bg-transparent">
  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- One line on desktop: Product name | Links | Copyright -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6 text-sm text-white/60">
      <div class="flex items-center gap-2">
        <span class="font-bold text-white">{brand.name}</span>
        <span class="text-white/30">·</span>
        <span>© {new Date().getFullYear()}</span>
      </div>
      <div class="flex flex-wrap items-center justify-center gap-6">
        <a
          href={brand.urls.privacy}
          class="hover:text-white transition-colors font-medium"
        >
          Privacy
        </a>
        <a
          href={brand.urls.terms}
          class="hover:text-white transition-colors font-medium"
        >
          Terms
        </a>
        <a
          href={`mailto:${brand.contact.support}`}
          class="hover:text-white transition-colors font-medium"
        >
          Support
        </a>
      </div>
      <div class="flex items-center justify-center">
        <!-- Google Translate -->
        <div id="google_translate_element"></div>
      </div>
    </div>
  </div>
</footer>

<script is:inline>
  // eslint-disable-next-line no-unused-vars
  function googleTranslateElementInit() {
    try {
      // eslint-disable-next-line no-undef
      if (typeof google !== 'undefined' && google.translate) {
        // eslint-disable-next-line no-undef
        new google.translate.TranslateElement(
          {
            pageLanguage: 'en',
            includedLanguages: 'en,es,fr,de,it,pt,ru,zh,ja,ko',
            // eslint-disable-next-line no-undef
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
            autoDisplay: false,
          },
          'google_translate_element'
        )
      }
    } catch (error) {
      // Silently fail if Google Translate is unavailable (rate limit, etc.)
      console.warn('Google Translate unavailable:', error)
    }
  }
  
  // Load Google Translate with error handling
  window.addEventListener('load', function() {
    const script = document.createElement('script')
    script.type = 'text/javascript'
    script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit'
    script.onerror = function() {
      // Silently fail if script fails to load (429, network error, etc.)
      console.warn('Google Translate script failed to load')
    }
    document.head.appendChild(script)
  })
</script>
