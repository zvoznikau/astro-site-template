---
import { brand } from '../../config/brand'
---

<section
  id="faq"
  class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-24 sm:py-32"
>
  <div class="space-y-16">
    <div class="text-center">
      <h2 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6">
        <span class="gradient-text">FAQ</span>
      </h2>
      <p class="text-xl text-base-content/80 max-w-2xl mx-auto">
        Common questions about DemoAPPmax.
      </p>
    </div>
    <div class="max-w-3xl mx-auto">
      <div class="space-y-4" id="faq-container">
        {brand.faq.map((item, index) => (
          <div class="faq-item rounded-xl overflow-hidden bg-white/60 dark:bg-base-content/10 backdrop-blur-md shadow-xl hover:shadow-2xl transition-all" data-faq-index={index}>
            <button
              type="button"
              class="faq-button flex items-center justify-between w-full px-6 py-5 cursor-pointer hover:bg-base-content/10 transition-colors text-left"
              aria-expanded={index === 0 ? 'true' : 'false'}
            >
              <span class="text-lg font-semibold text-base-content pr-4">{item.question}</span>
              <svg
                class="faq-arrow w-5 h-5 text-base-content/70 transition-transform duration-300 flex-shrink-0"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class={`faq-content overflow-hidden transition-all duration-300 ease-in-out ${index === 0 ? 'faq-open' : ''}`}>
              <div class="px-6 pb-5">
                <p class="text-base text-base-content/70 leading-relaxed">{item.answer}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .faq-content {
    max-height: 0;
  }
  
  .faq-content.faq-open {
    max-height: 1000px;
  }
  
  .faq-item.active .faq-arrow {
    transform: rotate(180deg);
  }
</style>

<script>
  (function() {
    // Initialize FAQ accordion
    function initFAQ() {
      const faqItems = document.querySelectorAll('.faq-item');
      const faqButtons = document.querySelectorAll('.faq-button');
      const faqContents = document.querySelectorAll('.faq-content');
      
      // Open first item by default
      if (faqItems.length > 0) {
        faqItems[0].classList.add('active');
        faqContents[0].classList.add('faq-open');
        faqButtons[0].setAttribute('aria-expanded', 'true');
      }
      
      // Add click handlers
      faqButtons.forEach((button, index) => {
        button.addEventListener('click', function() {
          const isOpen = faqItems[index].classList.contains('active');
          
          // Close all items
          faqItems.forEach((item, i) => {
            item.classList.remove('active');
            faqContents[i].classList.remove('faq-open');
            faqButtons[i].setAttribute('aria-expanded', 'false');
          });
          
          // If clicked item was closed, open it
          if (!isOpen) {
            faqItems[index].classList.add('active');
            faqContents[index].classList.add('faq-open');
            faqButtons[index].setAttribute('aria-expanded', 'true');
          }
        });
      });
    }
    
    // Run on page load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initFAQ);
    } else {
      initFAQ();
    }
  })();
</script>
